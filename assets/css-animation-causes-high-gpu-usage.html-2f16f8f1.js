const n=JSON.parse('{"key":"v-7dc4ce3f","path":"/%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/css-animation-causes-high-gpu-usage.html","title":"css 动画导致 gpu 占用高","lang":"zh-CN","frontmatter":{"title":"css 动画导致 gpu 占用高","date":"2022-12-02T08:15:00.000Z","lastUpdated":true,"category":["实际项目"],"description":"背景 image-20221202141652806 有同学反映「权限申请」按钮的动画效果会导致 GPU 占用高的问题，在我的 m1 macbook pro 13 上表现为占用 20~25%，但是那位同学说在他电脑上占用率高达 130%，因此想搞明白为什么 animation 会导致 GPU 占用如此高。 @keyframes flowlight { // 0% { // background-position: 0 0; // } 100% { background-position: -400% 0; } } // 按钮的类名 .permission-url { background-image: linear-gradient( -89deg, #fcab9b, #f1d3af, #afc9f1, #bb9cfc, #fcab9b ); background-size: 400%; animation: flowlight 3.5s linear infinite; }","head":[["meta",{"property":"og:url","content":"https://crabsama.github.io/CrabSAMA-Blog/CrabSAMA-Blog/%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/css-animation-causes-high-gpu-usage.html"}],["meta",{"property":"og:site_name","content":"CrabSAMA · 笔记"}],["meta",{"property":"og:title","content":"css 动画导致 gpu 占用高"}],["meta",{"property":"og:description","content":"背景 image-20221202141652806 有同学反映「权限申请」按钮的动画效果会导致 GPU 占用高的问题，在我的 m1 macbook pro 13 上表现为占用 20~25%，但是那位同学说在他电脑上占用率高达 130%，因此想搞明白为什么 animation 会导致 GPU 占用如此高。 @keyframes flowlight { // 0% { // background-position: 0 0; // } 100% { background-position: -400% 0; } } // 按钮的类名 .permission-url { background-image: linear-gradient( -89deg, #fcab9b, #f1d3af, #afc9f1, #bb9cfc, #fcab9b ); background-size: 400%; animation: flowlight 3.5s linear infinite; }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://crabsama.github.io/CrabSAMA-Blog/CrabSAMA-Blog/"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-17T16:52:03.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"css 动画导致 gpu 占用高"}],["meta",{"property":"article:published_time","content":"2022-12-02T08:15:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-03-17T16:52:03.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"css 动画导致 gpu 占用高\\",\\"image\\":[\\"https://crabsama.github.io/CrabSAMA-Blog/CrabSAMA-Blog/\\"],\\"datePublished\\":\\"2022-12-02T08:15:00.000Z\\",\\"dateModified\\":\\"2023-03-17T16:52:03.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"思路","slug":"思路","link":"#思路","children":[{"level":3,"title":"高性能动画","slug":"高性能动画","link":"#高性能动画","children":[]},{"level":3,"title":"重绘和回流","slug":"重绘和回流","link":"#重绘和回流","children":[]}]},{"level":2,"title":"解决方案","slug":"解决方案","link":"#解决方案","children":[]}],"git":{"createdTime":1679071923000,"updatedTime":1679071923000,"contributors":[{"name":"CrabSAMA","email":"71915282@qq.com","commits":1}]},"readingTime":{"minutes":2.02,"words":606},"filePathRelative":"实际项目/css-animation-causes-high-gpu-usage.md","localizedDate":"2022年12月2日","excerpt":"<h2> 背景</h2>\\n<figure><figcaption>image-20221202141652806</figcaption></figure>\\n<p>有同学反映「权限申请」按钮的动画效果会导致 GPU 占用高的问题，在我的 m1 macbook pro 13 上表现为占用 20~25%，但是那位同学说在他电脑上占用率高达 130%，因此想搞明白为什么 animation 会导致 GPU 占用如此高。</p>\\n<div class=\\"language-less line-numbers-mode\\" data-ext=\\"less\\"><pre class=\\"language-less\\"><code><span class=\\"token atrule\\">@keyframes flowlight</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token comment\\">// 0% {</span>\\n  <span class=\\"token comment\\">//   background-position: 0 0;</span>\\n  <span class=\\"token comment\\">// }</span>\\n  <span class=\\"token selector\\">100%</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">background-position</span><span class=\\"token punctuation\\">:</span> <span class=\\"token operator\\">-</span>400% 0<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token comment\\">// 按钮的类名</span>\\n<span class=\\"token selector\\">.permission-url</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token property\\">background-image</span><span class=\\"token punctuation\\">:</span> <span class=\\"token function\\">linear-gradient</span><span class=\\"token punctuation\\">(</span>\\n    <span class=\\"token operator\\">-</span>89deg<span class=\\"token punctuation\\">,</span>\\n    #fcab9b<span class=\\"token punctuation\\">,</span>\\n    #f1d3af<span class=\\"token punctuation\\">,</span>\\n    #afc9f1<span class=\\"token punctuation\\">,</span>\\n    #bb9cfc<span class=\\"token punctuation\\">,</span>\\n    #fcab9b\\n  <span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token property\\">background-size</span><span class=\\"token punctuation\\">:</span> 400%<span class=\\"token punctuation\\">;</span>\\n  <span class=\\"token property\\">animation</span><span class=\\"token punctuation\\">:</span> flowlight 3.5s linear infinite<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{n as data};
