import{_ as e,c as a,i as s,o as n}from"./app-DLkxNUaG.js";const l="/CrabSAMA-Blog/assets/image-20240516151709843-CZz3TcRS.png",t="data:image/png;base64,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",r="/CrabSAMA-Blog/assets/image-20240516161313983-DXHjWdsS.png",o={};function d(h,i){return n(),a("div",null,i[0]||(i[0]=[s('<h1 id="理解-z-index" tabindex="-1"><a class="header-anchor" href="#理解-z-index"><span>理解 z-index</span></a></h1><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景"><span>背景</span></a></h2><figure><img src="'+l+'" alt="image-20240516151709843" tabindex="0" loading="lazy"><figcaption>image-20240516151709843</figcaption></figure><p>在开发通知的编辑页面时，使用到了 mavon-editor 这个库。这个富文本编辑器库有提供一些方便的功能，比如添加链接时友好的弹窗，可以方便不了解 markdown 语法的人进行编辑。</p><p>但在使用过程中发现，这个弹窗的遮罩层无法遮住面包屑与头部菜单。在「元素」页面下，我们看到了这其实是 z-index 与层叠上下文导致的。</p><h2 id="z-index-与层叠上下文" tabindex="-1"><a class="header-anchor" href="#z-index-与层叠上下文"><span>z-index 与层叠上下文</span></a></h2><p>在页面中，我们经常会有用到 <code>z-index</code> 这个属性，而配合这个属性使用的一般还有 <code>position</code> 属性，<code>z-index</code> 一般会运用在脱离文档流的元素中，比如绝对定位、固定定位等元素。</p><p>在脱离文档流的元素中，我们可以通过调整 <code>z-index</code> 去决定元素的层叠顺序。但在多级元素的场景下，层叠上下文的存在会使得一些场景变得复杂。接下来先简单了解一下层叠上下文这个概念。</p><p>文档中的层叠上下文由满足以下任意一个条件的元素形成：</p><ul><li>文档根元素（<code>&lt;html&gt;</code>）；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener noreferrer"><code>position</code></a> 值为 <code>absolute</code>（绝对定位）或 <code>relative</code>（相对定位）且 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/z-index" target="_blank" rel="noopener noreferrer"><code>z-index</code></a> 值不为 <code>auto</code> 的元素；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/position" target="_blank" rel="noopener noreferrer"><code>position</code></a> 值为 <code>fixed</code>（固定定位）或 <code>sticky</code>（粘滞定位）的元素（沾滞定位适配所有移动设备上的浏览器，但老的桌面浏览器不支持）；</li><li>flex (<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex" target="_blank" rel="noopener noreferrer"><code>flex</code></a>) 容器的子元素，且 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/z-index" target="_blank" rel="noopener noreferrer"><code>z-index</code></a> 值不为 <code>auto</code>；</li><li>grid (<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid" target="_blank" rel="noopener noreferrer"><code>grid</code></a>) 容器的子元素，且 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/z-index" target="_blank" rel="noopener noreferrer"><code>z-index</code></a> 值不为 <code>auto</code>；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/opacity" target="_blank" rel="noopener noreferrer"><code>opacity</code></a> 属性值小于 <code>1</code> 的元素（参见 <a href="https://www.w3.org/TR/css3-color/#transparency" target="_blank" rel="noopener noreferrer">the specification for opacity</a>）；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/mix-blend-mode" target="_blank" rel="noopener noreferrer"><code>mix-blend-mode</code></a> 属性值不为 <code>normal</code> 的元素；</li><li>以下任意属性值不为 <code>none</code> 的元素： <ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform" target="_blank" rel="noopener noreferrer"><code>transform</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter" target="_blank" rel="noopener noreferrer"><code>filter</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/backdrop-filter" target="_blank" rel="noopener noreferrer"><code>backdrop-filter</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/perspective" target="_blank" rel="noopener noreferrer"><code>perspective</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/clip-path" target="_blank" rel="noopener noreferrer"><code>clip-path</code></a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/mask" target="_blank" rel="noopener noreferrer"><code>mask</code></a> / <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/mask-image" target="_blank" rel="noopener noreferrer"><code>mask-image</code></a> / <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/mask-border" target="_blank" rel="noopener noreferrer"><code>mask-border</code></a></li></ul></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/isolation" target="_blank" rel="noopener noreferrer"><code>isolation</code></a> 属性值为 <code>isolate</code> 的元素；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/will-change" target="_blank" rel="noopener noreferrer"><code>will-change</code></a> 值设定了任一属性而该属性在 non-initial 值时会创建层叠上下文的元素（参考<a href="https://dev.opera.com/articles/css-will-change-property/" target="_blank" rel="noopener noreferrer">这篇文章</a>）；</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain" target="_blank" rel="noopener noreferrer"><code>contain</code></a> 属性值为 <code>layout</code>、<code>paint</code> 或包含它们其中之一的合成值（比如 <code>contain: strict</code>、<code>contain: content</code>）的元素。</li></ul><p>在一个层叠上下文中，如果其子元素也存在新的层叠上下文，则它的 <code>z-index</code> 值只会在父级中才有意义，换句话说，子元素的 <code>z-index</code> 值不会跳出它的父元素与其他层叠上下文去比较。</p><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span>示例</span></a></h3><p>有一个简单的示例可以方便我们去理解：</p><figure><img src="'+t+'" alt="Example of stacking rules modified using z-index" tabindex="0" loading="lazy"><figcaption>Example of stacking rules modified using z-index</figcaption></figure><p>在这里我们可以简单梳理一下上面例子的层叠上下文关系：</p><ul><li>Root <ul><li>DIV #1</li><li>DIV #2</li><li>DIV #3 <ul><li>DIV #4</li><li>DIV #5</li><li>DIV #6</li></ul></li></ul></li></ul><p>在这个例子中，我们可以看到一个最明显的现象：DIV#4 虽然它的 z-index 是 6，但是并没有在最上层，因为它的 z-index 受父级元素限制，父级元素 DIV#3 的 z-index 是 4，DIV#4 这个 6 的 z-index 只会在 DIV#3 内部发挥作用，因此可以看到在 DIV#3 里 DIV#4 是在最顶层。</p><p>在 MDN 上，有一个较为简单易理解的方式去解释这种现象：</p><blockquote><p>分辨出层叠的元素在 Z 轴上的<em>渲染顺序</em>的一个简单方法是将它们想象成一系列的版本号，子元素是其父元素版本号之下的次要版本。通过这个方法我们可以轻松地看出为什么一个 z-index 为 1 的元素（DIV #5）层叠于一个 z-index 为 2 的元素（DIV #2）之上，而一个 z-index 为 6 的元素（DIV #4）层叠于 z-index 为 5 的元素（DIV #1）之下。在我们的例子中（依照最终渲染次序排列）：</p><ul><li>Root <ul><li>DIV #2 - z-index 为 2</li><li>DIV #3 - z-index 为 4 <ul><li>DIV #5 - z-index 为 1，在一个 z-index 为 4 的元素内层叠，所以渲染次序为 4.1</li><li>DIV #6 - z-index 为 3，在一个 z-index 为 4 的元素内层叠，所以渲染次序为 4.3</li><li>DIV #4 - z-index 为 6，在一个 z-index 为 4 的元素内层叠，所以渲染次序为 4.6</li></ul></li><li>DIV #1 - z-index 为 5</li></ul></li></ul></blockquote><h2 id="回到项目中" tabindex="-1"><a class="header-anchor" href="#回到项目中"><span>回到项目中</span></a></h2><p>回到我们自己的项目中，我们也可以分析下我们这个项目的层叠上下文关系，此处我借助了一个 chrome extension：<a href="https://chromewebstore.google.com/detail/apjeljpachdcjkgnamgppgfkmddadcki" target="_blank" rel="noopener noreferrer">CSS Stacking Context inspector</a>，这个拓展可以帮助我们直观地看到文档中的层叠上下文。</p><figure><img src="'+r+`" alt="image-20240516161313983" tabindex="0" loading="lazy"><figcaption>image-20240516161313983</figcaption></figure><p>这里面可以看到，头部菜单、面包屑、富文本编辑器都存在一个层叠上下文，这是符合预期的。那为什么会出现前面说到的，遮罩无法在最上层呢？</p><div class="language-html line-numbers-mode" data-highlighter="shiki" data-ext="html" data-title="html" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;markdown-editor&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> formcontent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;shadow v-note-wrapper markdown-body&quot;</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    style</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 12px 0px; z-index: 1501</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    &lt;!--工具栏--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;v-note-op&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> style</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">background: rgb(255, 255, 255)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;v-left-item transition&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        &lt;!-- 添加image链接 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;add-image-link-wrapper&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;add-image-link&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            &lt;!-- 表单... --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>看这段代码可以看到，这个富文本编辑器的弹窗，居然是<strong>写在组件内部</strong>的！</p><p>对比一下市面上常见的 UI 组件库，他们的遮罩层都是直接插入在 <code>body</code> 下的，这样就可以在最顶层生成一个层叠上下文，调整合适的 <code>z-index</code> 即可实现遮罩层在顶层。而这个富文本编辑器的写法导致了弹窗的遮罩层会受到外层父元素 <code>z-index</code> 的影响，也不难理解为什么这个库很特殊地将自身 <code>z-index</code> 设为 1500 了。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>在这个例子中，我们了解到了 <code>z-index</code> 与层叠上下文的关系，同时学习到了子元素的 <code>z-index</code> 会受父元素 <code>z-index</code> 的影响，对层叠上下文这个概念有了初步的了解。</p>`,28)]))}const c=e(o,[["render",d],["__file","z-index.html.vue"]]),k=JSON.parse('{"path":"/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/z-index.html","title":"理解z-index","lang":"zh-CN","frontmatter":{"title":"理解z-index","date":"2024-05-16T08:34:47.000Z","category":["学习笔记"],"tag":["CSS"],"description":"理解 z-index 背景 image-20240516151709843image-20240516151709843 在开发通知的编辑页面时，使用到了 mavon-editor 这个库。这个富文本编辑器库有提供一些方便的功能，比如添加链接时友好的弹窗，可以方便不了解 markdown 语法的人进行编辑。 但在使用过程中发现，这个弹窗的遮罩层无法遮住...","head":[["meta",{"property":"og:url","content":"https://crabsama.github.io/CrabSAMA-Blog/CrabSAMA-Blog/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/z-index.html"}],["meta",{"property":"og:site_name","content":"CrabSAMA · 笔记"}],["meta",{"property":"og:title","content":"理解z-index"}],["meta",{"property":"og:description","content":"理解 z-index 背景 image-20240516151709843image-20240516151709843 在开发通知的编辑页面时，使用到了 mavon-editor 这个库。这个富文本编辑器库有提供一些方便的功能，比如添加链接时友好的弹窗，可以方便不了解 markdown 语法的人进行编辑。 但在使用过程中发现，这个弹窗的遮罩层无法遮住..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-29T07:33:27.000Z"}],["meta",{"property":"article:author","content":"CrabSAMA"}],["meta",{"property":"article:tag","content":"CSS"}],["meta",{"property":"article:published_time","content":"2024-05-16T08:34:47.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-29T07:33:27.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"理解z-index\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-16T08:34:47.000Z\\",\\"dateModified\\":\\"2024-09-29T07:33:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"CrabSAMA\\",\\"url\\":\\"https://crabsama.github.io/CrabSAMA-Blog\\"}]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"z-index 与层叠上下文","slug":"z-index-与层叠上下文","link":"#z-index-与层叠上下文","children":[{"level":3,"title":"示例","slug":"示例","link":"#示例","children":[]}]},{"level":2,"title":"回到项目中","slug":"回到项目中","link":"#回到项目中","children":[]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1724313559000,"updatedTime":1727595207000,"contributors":[{"name":"CrabSAMA","email":"71915282@qq.com","commits":2}]},"readingTime":{"minutes":5.25,"words":1576},"filePathRelative":"学习笔记/z-index.md","localizedDate":"2024年5月16日","excerpt":"\\n<h2>背景</h2>\\n<figure><figcaption>image-20240516151709843</figcaption></figure>\\n<p>在开发通知的编辑页面时，使用到了 mavon-editor 这个库。这个富文本编辑器库有提供一些方便的功能，比如添加链接时友好的弹窗，可以方便不了解 markdown 语法的人进行编辑。</p>\\n<p>但在使用过程中发现，这个弹窗的遮罩层无法遮住面包屑与头部菜单。在「元素」页面下，我们看到了这其实是 z-index 与层叠上下文导致的。</p>\\n<h2>z-index 与层叠上下文</h2>\\n<p>在页面中，我们经常会有用到 <code>z-index</code> 这个属性，而配合这个属性使用的一般还有 <code>position</code> 属性，<code>z-index</code> 一般会运用在脱离文档流的元素中，比如绝对定位、固定定位等元素。</p>","autoDesc":true}');export{c as comp,k as data};
