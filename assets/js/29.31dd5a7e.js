(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{535:function(a,s,t){"use strict";t.r(s);var n=t(6),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"babel-7-库的作用域-scope"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel-7-库的作用域-scope"}},[a._v("#")]),a._v(" Babel 7 库的作用域 (scope)")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("Babel 7 用了 npm 的 private scope，把全部的包都挂在在 @babel 下，类似的有 typescript 的 @type。")])]),a._v(" "),t("li",[t("p",[a._v("Babel 7 提供多种配置")]),a._v(" "),t("p",[t("code",[a._v(".babelrc")]),a._v(" "),t("code",[a._v("babel.config.js")]),a._v(" "),t("code",[a._v("webpack babel loader")])])])]),a._v(" "),t("h2",{attrs:{id:"升级步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#升级步骤"}},[a._v("#")]),a._v(" 升级步骤")]),a._v(" "),t("ol",[t("li",[t("p",[t("code",[a._v("babel-core")]),a._v("卸载掉，重新安装 "),t("code",[a._v("@babel/core")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" uninstall babel-core\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -D @babel/core\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 调用 babel-upgrade 这个工具将对 package.json 进行一次扫描")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 将旧版本的 plugin 自动替换成 babel7 的作用域 plugin")]),a._v("\nnpx babel-upgrade --write --install \n")])])])]),a._v(" "),t("li",[t("p",[t("code",[a._v(".babelrc")]),a._v("引入解析")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// babel7 以上的 plugin 都变成了 @babel 作用域下的包 需要在这里填写以便解析")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"plugins"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-proposal-class-properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-proposal-optional-chaining"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-proposal-json-strings"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-syntax-dynamic-import"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"@babel/plugin-syntax-import-meta"')]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("li",[t("p",[a._v("在 "),t("code",[a._v("package.json")]),a._v(" 文件中删除 "),t("code",[a._v("babel6")]),a._v(" 相关的依赖")]),a._v(" "),t("p",[a._v("简单的来说，就是不以 "),t("code",[a._v("@babel")]),a._v(" 开头的（除了 babel-loader）都删掉即可，或者看后面版本号写 6.XX.XX 的都删掉。")])]),a._v(" "),t("li",[t("p",[a._v("删除文件夹 "),t("code",[a._v("node_modules")]),a._v(" 然后重新安装")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -rf node_modules\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v("\n")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);