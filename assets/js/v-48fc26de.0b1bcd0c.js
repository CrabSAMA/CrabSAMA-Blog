"use strict";(self.webpackChunkcrabsama_blog=self.webpackChunkcrabsama_blog||[]).push([[725],{6556:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-48fc26de",path:"/%E5%AE%9E%E9%99%85%E9%A1%B9%E7%9B%AE/babel6-update-babel7.html",title:"babel6升级到babel7",lang:"zh-CN",frontmatter:{title:"babel6升级到babel7",sidebar:"auto",categories:["实际项目"]},excerpt:"",headers:[{level:2,title:"Babel 7 库的作用域 (scope)",slug:"babel-7-库的作用域-scope",children:[]},{level:2,title:"升级步骤",slug:"升级步骤",children:[]}],git:{createdTime:1652170033e3,updatedTime:1652170033e3,contributors:[{name:"CrabSAMA",email:"71915282@qq.com",commits:1}]},filePathRelative:"实际项目/babel6-update-babel7.md"}},4670:(n,a,s)=>{s.r(a),s.d(a,{default:()=>p});const e=(0,s(6252).uE)('<h2 id="babel-7-库的作用域-scope" tabindex="-1"><a class="header-anchor" href="#babel-7-库的作用域-scope" aria-hidden="true">#</a> Babel 7 库的作用域 (scope)</h2><ol><li><p>Babel 7 用了 npm 的 private scope，把全部的包都挂在在 @babel 下，类似的有 typescript 的 @type。</p></li><li><p>Babel 7 提供多种配置</p><p><code>.babelrc</code><code>babel.config.js</code><code>webpack babel loader</code></p></li></ol><h2 id="升级步骤" tabindex="-1"><a class="header-anchor" href="#升级步骤" aria-hidden="true">#</a> 升级步骤</h2><ol><li><p><code>babel-core</code>卸载掉，重新安装 <code>@babel/core</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> uninstall babel-core\n<span class="token function">npm</span> <span class="token function">install</span> -D @babel/core\n<span class="token comment"># 调用 babel-upgrade 这个工具将对 package.json 进行一次扫描</span>\n<span class="token comment"># 将旧版本的 plugin 自动替换成 babel7 的作用域 plugin</span>\nnpx babel-upgrade --write --install \n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><code>.babelrc</code>引入解析</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// babel7 以上的 plugin 都变成了 @babel 作用域下的包 需要在这里填写以便解析</span>\n<span class="token punctuation">{</span>\n  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;@babel/plugin-proposal-optional-chaining&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;@babel/plugin-proposal-json-strings&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span class="token punctuation">,</span>\n    <span class="token string">&quot;@babel/plugin-syntax-import-meta&quot;</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>在 <code>package.json</code> 文件中删除 <code>babel6</code> 相关的依赖</p><p>简单的来说，就是不以 <code>@babel</code> 开头的（除了 babel-loader）都删掉即可，或者看后面版本号写 6.XX.XX 的都删掉。</p></li><li><p>删除文件夹 <code>node_modules</code> 然后重新安装</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> -rf node_modules\n<span class="token function">npm</span> <span class="token function">install</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol>',4),l={},p=(0,s(3744).Z)(l,[["render",function(n,a){return e}]])}}]);